
<!--
  This Behavior Tree processes each of the given waypoints with NavigateToPose.
-->
<root main_tree_to_execute="MainTree">
  <BehaviorTree ID="MainTree">
    <ReactiveFallback name="FollowTargets">
      <AllGoalsAchieved goal_achieved="{goal_achieved}"/>
      <KeepRunningUntilFailure>
        <ReactiveSequence>
          <GetNextGoal goals="{goals}" goal="{goal}" goal_achieved="{goal_achieved}"/>
          <NavigateToPose goal="{goal}" server_name="navigate_to_pose" server_timeout="10"/>
          <LoadPallet load_queue="{load_queue}"/>
<!--          <Wait wait_duration="5"/>-->
          <SetBlackboard output_key="goal_achieved" value="true"/>
        </ReactiveSequence>
      </KeepRunningUntilFailure>
    </ReactiveFallback>
  </BehaviorTree>
</root>
